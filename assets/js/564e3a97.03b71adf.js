"use strict";(self.webpackChunkdocusaurus_public_api=self.webpackChunkdocusaurus_public_api||[]).push([[7460],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>k});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var d=a.createContext({}),c=function(t){var e=a.useContext(d),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},u=function(t){var e=c(t.components);return a.createElement(d.Provider,{value:e},t.children)},s="mdxType",p={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,d=t.parentName,u=o(t,["components","mdxType","originalType","parentName"]),s=c(n),m=r,k=s["".concat(d,".").concat(m)]||s[m]||p[m]||l;return n?a.createElement(k,i(i({ref:e},u),{},{components:n})):a.createElement(k,i({ref:e},u))}));function k(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var d in e)hasOwnProperty.call(e,d)&&(o[d]=e[d]);o.originalType=t,o[s]="string"==typeof t?t:r,i[1]=o;for(var c=2;c<l;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1335:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const l={sidebar_position:40,title:"Pedidos web",description:"Crear, editar y listar pedidos web",slug:"/pedidos-web"},i="Pedidos web",o={unversionedId:"Tienda en l\xednea/Pedidos web",id:"version-MX/Tienda en l\xednea/Pedidos web",title:"Pedidos web",description:"Crear, editar y listar pedidos web",source:"@site/versioned_docs/version-MX/Tienda en l\xednea/Pedidos web.md",sourceDirName:"Tienda en l\xednea",slug:"/pedidos-web",permalink:"/docusaurus-public-api/MX/pedidos-web",draft:!1,tags:[],version:"MX",sidebarPosition:40,frontMatter:{sidebar_position:40,title:"Pedidos web",description:"Crear, editar y listar pedidos web",slug:"/pedidos-web"},sidebar:"tutorialSidebar",previous:{title:"Impuestos",permalink:"/docusaurus-public-api/MX/impuestos"},next:{title:"Descripci\xf3n web",permalink:"/docusaurus-public-api/MX/descripcion-web"}},d={},c=[{value:"Carros",id:"carros",level:2},{value:"Estructura JSON",id:"estructura-json",level:3},{value:"Atributos",id:"atributos",level:4},{value:"GET detalle un carro",id:"get-detalle-un-carro",level:3},{value:"Ejemplo",id:"ejemplo",level:4},{value:"POST un carro",id:"post-un-carro",level:3},{value:"Ejemplo JSON",id:"ejemplo-json",level:4},{value:"Env\xedo",id:"env\xedo",level:5},{value:"Respuesta",id:"respuesta",level:5},{value:"POST un carro desde sesi\xf3n",id:"post-un-carro-desde-sesi\xf3n",level:3},{value:"PUT un carro",id:"put-un-carro",level:3},{value:"Ejemplo JSON",id:"ejemplo-json-1",level:4},{value:"Env\xedo",id:"env\xedo-1",level:5},{value:"Respuesta",id:"respuesta-1",level:5},{value:"DELETE un carro",id:"delete-un-carro",level:3},{value:"Checkout",id:"checkout",level:2},{value:"Estructura JSON",id:"estructura-json-1",level:3},{value:"Atributos",id:"atributos-1",level:4},{value:"GET listar checkout&#39;s",id:"get-listar-checkouts",level:3},{value:"Par\xe1metros",id:"par\xe1metros",level:4},{value:"Ejemplos",id:"ejemplos",level:4},{value:"GET un checkout",id:"get-un-checkout",level:3},{value:"Par\xe1metros",id:"par\xe1metros-1",level:4},{value:"Ejemplos",id:"ejemplos-1",level:4},{value:"POST un checkout",id:"post-un-checkout",level:3},{value:"Ejemplo JSON",id:"ejemplo-json-2",level:4},{value:"Env\xedo",id:"env\xedo-2",level:5},{value:"Respuesta",id:"respuesta-2",level:5},{value:"PUT un checkout",id:"put-un-checkout",level:3},{value:"Ejemplo JSON",id:"ejemplo-json-3",level:4},{value:"Env\xedo",id:"env\xedo-3",level:5},{value:"Respuesta",id:"respuesta-3",level:5},{value:"DELETE un checkout",id:"delete-un-checkout",level:3}],u={toc:c},s="wrapper";function p(t){let{components:e,...n}=t;return(0,r.kt)(s,(0,a.Z)({},u,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"pedidos-web"},"Pedidos web"),(0,r.kt)("p",null,"\xc9ste recurso te permitir\xe1 listar, editar y generar pedidos asociados a tu panel de ecommerce."),(0,r.kt)("p",null,"C\xf3mo funciona la interfaz de Bsale, mira \xe9stos videos:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Uso ecommerce ",(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/playlist?list=PLPUKtN2zmQABzAPgGclvL1lBXMPNqi8Mb"},"Ver")," ")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"La url base para ambiente de desarrollo y pruebas del ecommerce es  ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://api.bsale.io/"},"https://api.bsale.io/")),".")),(0,r.kt)("h2",{id:"carros"},"Carros"),(0,r.kt)("p",null,"Un registro de carros, es la colecci\xf3n de productos de un ecommerce, usado para asociarlos a un checkout."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Los carros no reservan stock")),(0,r.kt)("h3",{id:"estructura-json"},"Estructura JSON"),(0,r.kt)("p",null,"Al realizar una petici\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"HTTP"),", el servicio retornara un JSON con la siguiente estructura:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "code": "200",\n    "href": "https://api.bsale.io/v1/cart/7674/detail.json",\n    "count": 2,\n    "limit": 0,\n    "offset": 20,\n    "data": [\n        {\n            "id": 22218,\n            "quantity": 1,\n            "unitValue": 13000,\n            "netUnitValue": 10924.3697478992,\n            "discount": 23.08,\n            "itemName": "Pantalon Maevn 9726 Celeste XL",\n            "total": 10000,\n            "discountId": 28,\n            "image": "https://dojiw2m9tvv09.cloudfront.net/2414/product/9726_redpanda_cbl_main3869.jpg",\n            "idVarianteProducto": 7562,\n            "sku": "190480011099",\n            "link": "/product/pantalon-maevn-9726-celeste",\n            "productWebId": 760,\n            "cartId": 7674,\n            "taxList": [\n                1\n            ],\n            "shipping": {\n                "id": 4781,\n                "weight": 0.4,\n                "width": 0,\n                "deph": 0,\n                "length": 0,\n                "match": 0\n            },\n            "name": "Pantalon Maevn 9726 Celeste XL",\n            "value": 13000,\n            "cd_q": 1,\n            "cd_unit_value": 13000,\n            "cd_discount": 23.08,\n            "cd_item_name": "Pantalon Maevn 9726 Celeste XL",\n            "cd_sub_total": 10000,\n            "cd_id": 22218,\n            "cd_id_discount": 28,\n            "cd_image": "https://dojiw2m9tvv09.cloudfront.net/2414/product/9726_redpanda_cbl_main3869.jpg",\n            "id_variante_producto": 7562,\n            "codigo_variante_producto": "190480011099",\n            "href": "https://api.bsale.io/v1/cart/7674/detail/22218.json"\n        },\n        {\n            "id": 22220,\n            "quantity": 1,\n            "unitValue": 18000,\n            "netUnitValue": 15126.0504201681,\n            "discount": 55.5555,\n            "itemName": "Blusa Wonderwink 103A Celeste XL",\n            "total": 8000,\n            "discountId": 64,\n            "image": "https://dojiw2m9tvv09.cloudfront.net/2414/product/103_ceil_016614.jpg",\n            "idVarianteProducto": 1358,\n            "sku": "889610024343",\n            "link": "/product/top-hombre-celeste-wonderwink-103a",\n            "productWebId": 739,\n            "cartId": 7674,\n            "taxList": [\n                1\n            ],\n            "shipping": {\n                "id": 2788,\n                "weight": 0.4,\n                "width": 0,\n                "deph": 0,\n                "length": 0,\n                "match": 0\n            },\n            "name": "Blusa Wonderwink 103A Celeste XL",\n            "value": 18000,\n            "cd_q": 1,\n            "cd_unit_value": 18000,\n            "cd_discount": 55.5555,\n            "cd_item_name": "Blusa Wonderwink 103A Celeste XL",\n            "cd_sub_total": 8000,\n            "cd_id": 22220,\n            "cd_id_discount": 64,\n            "cd_image": "https://dojiw2m9tvv09.cloudfront.net/2414/product/103_ceil_016614.jpg",\n            "id_variante_producto": 1358,\n            "codigo_variante_producto": "889610024343",\n            "href": "https://api.bsale.io/v1/cart/7674/detail/22220.json"\n        }\n    ],\n    "previous": "https://api.bsale.io/v1/cart/7674/detail.json?limit=0&offset=-20"\n}\n')),(0,r.kt)("h4",{id:"atributos"},"Atributos"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Atributo"),(0,r.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:null},"Tipo dato"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"token")),(0,r.kt)("td",{parentName:"tr",align:null},"Si no viene lo crea."),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"id")),(0,r.kt)("td",{parentName:"tr",align:null},"Identificador \xfanico del item del carro"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"quantity")),(0,r.kt)("td",{parentName:"tr",align:null},"Cantidad de item que se lleva el carro"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"unitValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Valor bruto del producto"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"netUnitValue")),(0,r.kt)("td",{parentName:"tr",align:null},"Valor neto del producto"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"discount")),(0,r.kt)("td",{parentName:"tr",align:null},"Descuento"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"itemName")),(0,r.kt)("td",{parentName:"tr",align:null},"Nombre del item"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"total")),(0,r.kt)("td",{parentName:"tr",align:null},"Total en bruto de este item"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"discountId")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del descuento"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"image")),(0,r.kt)("td",{parentName:"tr",align:null},"Url imagen"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"idVarianteProducto")),(0,r.kt)("td",{parentName:"tr",align:null},"Id de la variante del producto"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"sku")),(0,r.kt)("td",{parentName:"tr",align:null},"SKU de la variante"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"link")),(0,r.kt)("td",{parentName:"tr",align:null},"url del producto"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"cartId")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del carro"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"productWebId")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del producto en el market"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"cartId")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del carro"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"taxList")),(0,r.kt)("td",{parentName:"tr",align:null},"Lista de id impuesto"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"url")),(0,r.kt)("td",{parentName:"tr",align:null},"Url del detalle del carro"),(0,r.kt)("td",{parentName:"tr",align:null},"String")))),(0,r.kt)("h3",{id:"get-detalle-un-carro"},"GET detalle un carro"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"GET ",(0,r.kt)("inlineCode",{parentName:"li"},"/v1/cart/:cartId/detail.json")," retornar\xe1 los detalles de un carro")),(0,r.kt)("h4",{id:"ejemplo"},"Ejemplo"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /v1/cart/7674/detail.json"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "code": "200",\n  "href": "https://api.bsale.io/v1/cart/110/detail.json",\n  "count": 1,\n  "limit": 0,\n  "offset": 20,\n  "data": [\n    {\n      "id": 70,\n      "quantity": 1,\n      "unitValue": 3990,\n      "netUnitValue": 3990,\n      "discount": 0,\n      "total": 3990,\n      "image": "https://dojiw2m9tvv09.cloudfront.net/33250/product/calugas-100g2449.png",\n      "idVarianteProducto": 297,\n      "sku": "1610222211159",\n      "link": "/product/caja-calugas-reales-100gr",\n      "productWebId": 43,\n      "cartId": 110,\n      "taxList": [\n        1\n      ],\n      "shipping": {\n        "id": 145,\n        "weight": 0,\n        "width": 0,\n        "deph": 0,\n        "length": 0,\n        "match": 1\n      },\n      "value": 3990,\n      "cd_q": 1,\n      "cd_unit_value": 3990,\n      "cd_discount": 0,\n      "cd_sub_total": 3990,\n      "cd_id": 70,\n      "cd_id_discount": 0,\n      "cd_image": "https://dojiw2m9tvv09.cloudfront.net/33250/product/calugas-reales-100g2449.png",\n      "id_variante_producto": 297,\n      "codigo_variante_producto": "1610222211159",\n      "href": "https://api.bsale.io/v1/cart/110/detail/70.json"\n    }\n  ],\n  "previous": "https://api.bsale.io/v1/cart/110/detail.json?limit=0&offset=-20"\n}\n')),(0,r.kt)("h3",{id:"post-un-carro"},"POST un carro"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"POST ",(0,r.kt)("inlineCode",{parentName:"li"},"/v1/cart/new.json ")," ")),(0,r.kt)("p",null,"Para crear una variante, se debe enviar un JSON con la siguiente estructura:"),(0,r.kt)("h4",{id:"ejemplo-json"},"Ejemplo JSON"),(0,r.kt)("h5",{id:"env\xedo"},"Env\xedo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cartDetails": [\n    {\n      "quantity": 1,\n      "unitValue": 13700,\n      "image": "https://dev09.cloudfront.net/1680/product/prds-059963.jpg",\n      "idVarianteProducto": 4622,\n      "itemName": "Caja Calugas 200gr ",\n      "productWebId": 10,\n      "discount": 0\n    }\n  ]\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"quantity"),", Cantidad a agregar al carro (Integer)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"unitValue"),", obligatorio (Integer)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"image"),",  url imagen asociada al producto del carro"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"idVarianteProducto"),", id variante web asociada al carro (Integer)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"productWebId"),", Id producto web  (Integer)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ItemName"),", Nombre del \xedtem agregado (String).")),(0,r.kt)("h5",{id:"respuesta"},"Respuesta"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "code": "200",\n  "data": {\n    "id": 67,\n    "createAt": 1657747898,\n    "cartDetails": [\n      {\n        "id": 246,\n        "quantity": 1,\n        "unitValue": 6800,\n        "netUnitValue": 5714.28571428571,\n        "discount": 0,\n        "itemName": "Croustillant",\n        "total": 6800,\n        "image": "https://dojiw2m9tvv09.cloudfront.net/12050/product/mixtochico5210.jpg",\n        "idVarianteProducto": 550,\n        "sku": "CH-CROU-CLE",\n        "link": "/product/croustillant",\n        "productWebId": 34,\n        "cartId": 67,\n        "taxList": [\n          1\n        ],\n        "shipping": {\n          "id": 98,\n          "weight": 0.25,\n          "width": 8,\n          "deph": 5,\n          "length": 22,\n          "match": 0\n        },\n        "name": "Croustillant",\n        "value": 6800,\n        "cd_q": 1,\n        "cd_unit_value": 6800,\n        "cd_discount": 0,\n        "cd_item_name": "Croustillant",\n        "cd_sub_total": 6800,\n        "cd_id": 246,\n        "cd_id_discount": 0,\n        "cd_image": "https://dojiw2m9tvv09.cloudfront.net/12050/product/mixtochico5210.jpg",\n        "id_variante_producto": 550,\n        "codigo_variante_producto": "CH-CROU-CLE",\n        "href": "https://api.bsale.io/v1/cart/67/detail/246.json"\n      }\n    ],\n    "url": "https://api.bsale.io/v1/cart/67.json"\n  }\n}\n')),(0,r.kt)("h3",{id:"post-un-carro-desde-sesi\xf3n"},"POST un carro desde sesi\xf3n"),(0,r.kt)("p",null,"Para asignar un carro a una sesi\xf3n, se debe generar una llamada desde el navegador a la id de carro creado en el POST:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/cart/setonsession/:id_cart"))),(0,r.kt)("p",null,"Para  leer un carro de una sesi\xf3n, se debe generar una llamada desde el navegador "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"/cart/getfromsession"))),(0,r.kt)("h3",{id:"put-un-carro"},"PUT un carro"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"PUT ",(0,r.kt)("inlineCode",{parentName:"p"},"/v1/cart/:cart_id.json")," ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"cart_id"),", Corresponde al id del carro.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"id"),", en el body se debe indicar el id del detalle carro que se desea editar, si no se indica se agrega un detalle al carro."))),(0,r.kt)("p",null,"Se debe enviar un Json con la siguiente estructura: "),(0,r.kt)("h4",{id:"ejemplo-json-1"},"Ejemplo JSON"),(0,r.kt)("h5",{id:"env\xedo-1"},"Env\xedo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cartDetails": [\n    {\n      "id": 21,\n      "quantity": 1,\n      "unitValue": 13700,\n      "image": "https://dev09.cloudfront.net/1680/product/prds-059963.jpg",\n      "idVarianteProducto": 4622,\n      "itemName": "Caja Calugas 200gr ",\n      "productWebId": 10,\n      "discount": 0\n    }\n  ]\n}\n')),(0,r.kt)("h5",{id:"respuesta-1"},"Respuesta"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "code": "200",\n  "data": {\n    "id": 67,\n    "createAt": 1657747898,\n    "cartDetails": [\n      {\n        "id": 246,\n        "quantity": 1,\n        "unitValue": 6800,\n        "netUnitValue": 5714.28571428571,\n        "discount": 0,\n        "itemName": "Croustillant",\n        "total": 6800,\n        "image": "https://dojiw2m9tvv09.cloudfront.net/12050/product/mixtochico5210.jpg",\n        "idVarianteProducto": 550,\n        "sku": "CH-CROU-CLE",\n        "link": "/product/croustillant",\n        "productWebId": 34,\n        "cartId": 67,\n        "taxList": [\n          1\n        ],\n        "shipping": {\n          "id": 98,\n          "weight": 0.25,\n          "width": 8,\n          "deph": 5,\n          "length": 22,\n          "match": 0\n        },\n        "name": "Croustillant",\n        "value": 6800,\n        "cd_q": 1,\n        "cd_unit_value": 6800,\n        "cd_discount": 0,\n        "cd_item_name": "Croustillant",\n        "cd_sub_total": 6800,\n        "cd_id": 246,\n        "cd_id_discount": 0,\n        "cd_image": "https://dojiw2m9tvv09.cloudfront.net/12050/product/mixtochico5210.jpg",\n        "id_variante_producto": 550,\n        "codigo_variante_producto": "CH-CROU-CLE",\n        "href": "https://api.bsale.io/v1/cart/67/detail/246.json"\n      }\n    ],\n    "url": "https://api.bsale.io/v1/cart/67.json"\n  }\n}\n')),(0,r.kt)("h3",{id:"delete-un-carro"},"DELETE un carro"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"DELETE ",(0,r.kt)("inlineCode",{parentName:"p"},"/v1/cart/:cart_id/detail/:id.json"),"\nCambia el estado del carro")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"cart_id"),", Corresponde al id del carro.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"id"),", corresponde al id del detalle de carro, para eliminar el carro, se debe eliminar cada detalle contenido en el carro"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n   "code": 200,\n   "data": "Cart detail successfully deleted"\n}\n')),(0,r.kt)("h2",{id:"checkout"},"Checkout"),(0,r.kt)("p",null,"Un registro checkout es la relaci\xf3n de un carro y un pedido."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Considera que un checkout est\xe1 relacionado a un documento pre-venta. Osea, debes ",(0,r.kt)("strong",{parentName:"p"},"Referenciar su id, n\xfamero y token"),". ")),(0,r.kt)("h3",{id:"estructura-json-1"},"Estructura JSON"),(0,r.kt)("p",null,"Al realizar una petici\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"HTTP"),", el servicio retornara un JSON con la siguiente estructura:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Response /checkout/43.json"',title:'"Response','/checkout/43.json"':!0},'{\n  "code": 200,\n  "data": {\n    "id": 43,\n    "token": "628699ed3b62ddc5cc8fa71204b39384a9281556",\n    "clientName": "Usuario",\n    "clientLastName": "Pruebas",\n    "clientEmail": "test@imaginex.cl",\n    "clientPhone": "+560000010",\n    "id_tipo_documento_tributario": 1,\n    "clientCountry": "Chile",\n    "clientState": "Regi\xf3n Metropolitana",\n    "extrasUserData": {\n      "user_rut": "11111111-9",\n      "razon_social": "Rzon Social",\n      "giro_cliente": "Gro Cliente",\n      "direccion": "Direcci\xf3n",\n      "ciudad": "Ciudad",\n      "comuna": "Comuna"\n    },\n    "clientStreet": "las condes",\n    "clientCityZone": "Las Condes",\n    "clientPostcode": "5220000",\n    "clientBuildingNumber": "123",\n    "cartId": 43,\n    "cartDetails": [\n      "https://api.bsale.io/v1/cart/43/detail.json"\n    ],\n    "spcId": 2,\n    "ptId": 2,\n    "payUrl": "https://bcash.bsalemarket.com/bank/v1",\n    "createAt": 1586794547,\n    "shippingCost": 0,\n    "isMafs": 0,\n    "discountCost": 0,\n    "active": 1,\n    "shippingComment": "Entrega en porter\xeda o llamar al n\xfamero de referencia",\n    "totalCart": 29990,\n    "pickStoreId": 0,\n    "id_venta_documento_tributario": 9,\n    "documentNumber": 4,\n    "documentToken": "58fa1b313e09",\n    "storeId": 1,\n    "marketId": 1,\n    "isService": 0,\n    "withdrawStore": 0,\n    "payProcess": "for_validate",\n    "ptName": "Transferencia Bancaria",\n    "stName": "Envios durante el d\xeda (Ver condiciones)",\n    "total": 29990,\n    "url": "https://api.bsale.io/v1/checkout/43.json",\n    "orderStatus": 0\n  }\n}\n')),(0,r.kt)("h4",{id:"atributos-1"},"Atributos"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Atributo"),(0,r.kt)("th",{parentName:"tr",align:null},"Descripci\xf3n"),(0,r.kt)("th",{parentName:"tr",align:null},"Tipo dato"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"id")),(0,r.kt)("td",{parentName:"tr",align:null},"identificador \xfanico del tipo de producto"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"token")),(0,r.kt)("td",{parentName:"tr",align:null},"Hash identificador \xfanico del checkout"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientName")),(0,r.kt)("td",{parentName:"tr",align:null},"Nombre del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientLastName")),(0,r.kt)("td",{parentName:"tr",align:null},"Apellido del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientEmail")),(0,r.kt)("td",{parentName:"tr",align:null},"Email del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientPhone")),(0,r.kt)("td",{parentName:"tr",align:null},"Telefono del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"id_tipo_documento_tributario")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del tipo documento tributario"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientCountry")),(0,r.kt)("td",{parentName:"tr",align:null},"Pais del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientState")),(0,r.kt)("td",{parentName:"tr",align:null},"Regi\xf3n del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"extrasUserData")),(0,r.kt)("td",{parentName:"tr",align:null},"Datos extras del documento tributario (hash)."),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientStreet")),(0,r.kt)("td",{parentName:"tr",align:null},"Calle del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientCityZone")),(0,r.kt)("td",{parentName:"tr",align:null},"Comuna del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientPostcode")),(0,r.kt)("td",{parentName:"tr",align:null},"C\xf3digo postal del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"clientBuildingNumber")),(0,r.kt)("td",{parentName:"tr",align:null},"Numero de direcci\xf3n del cliente"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"cartId")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del carro"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"cartDetails")),(0,r.kt)("td",{parentName:"tr",align:null},"Detalle del carro"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"spcId")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del costo del shipping"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"ptId")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del medio de pago"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"createAt")),(0,r.kt)("td",{parentName:"tr",align:null},"Fecha de creaci\xf3n"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"isMafs")),(0,r.kt)("td",{parentName:"tr",align:null},"El despacho es gratuito"),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"active")),(0,r.kt)("td",{parentName:"tr",align:null},"Activo"),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"shippingComment")),(0,r.kt)("td",{parentName:"tr",align:null},"Comentario del despacho"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"totalCart")),(0,r.kt)("td",{parentName:"tr",align:null},"Total bruto del carro"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"pickName")),(0,r.kt)("td",{parentName:"tr",align:null},"Nombre del que retira el pedido"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"pickCode")),(0,r.kt)("td",{parentName:"tr",align:null},"Rut del que retira el pedido"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"pickStoreId")),(0,r.kt)("td",{parentName:"tr",align:null},"Oficina donde se retira el pedido"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"id_venta_documento_tributario")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del documento tributario"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"documentNumber")),(0,r.kt)("td",{parentName:"tr",align:null},"Numero de documento"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"documentToken")),(0,r.kt)("td",{parentName:"tr",align:null},"Token del documento"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"storeId")),(0,r.kt)("td",{parentName:"tr",align:null},"Oficina que se genera el documento tributario"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"marketId")),(0,r.kt)("td",{parentName:"tr",align:null},"Id del market"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"isService")),(0,r.kt)("td",{parentName:"tr",align:null},"Indica si todos los producto del checkout son servicios"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"payProcess")),(0,r.kt)("td",{parentName:"tr",align:null},"Proceso del pedido"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"payError")),(0,r.kt)("td",{parentName:"tr",align:null},"C\xf3digo de error"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"payResponse")),(0,r.kt)("td",{parentName:"tr",align:null},"Mensaje de error del medio de pago"),(0,r.kt)("td",{parentName:"tr",align:null},"Integer")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"integrationDetail")),(0,r.kt)("td",{parentName:"tr",align:null},"Url de integraci\xf3n del sistema"),(0,r.kt)("td",{parentName:"tr",align:null},"String")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},"url")),(0,r.kt)("td",{parentName:"tr",align:null},"Url del checkout"),(0,r.kt)("td",{parentName:"tr",align:null},"String")))),(0,r.kt)("h3",{id:"get-listar-checkouts"},"GET listar checkout's"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"GET ",(0,r.kt)("inlineCode",{parentName:"li"},"/v1/markets/checkout/list.json")," retornar\xe1 todos los checkout's creados.")),(0,r.kt)("h4",{id:"par\xe1metros"},"Par\xe1metros"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"limit"),", limita la cantidad de items de una respuesta JSON, por defecto el limit es 25, el m\xe1ximo permitido es 50."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"offset"),", permite paginar los items de una respuesta JSON, por defecto el offset es 0."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"token"),", Corresponde al token \xfanico asociado a un checkout."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"clientName"),",  Permite filtro por  el nombre del cliente"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"clientEmail"),", Permite filtro por el email del cliente"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"marketId"),",  Corresponde al ID del market ")),(0,r.kt)("h4",{id:"ejemplos"},"Ejemplos"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /v1/markets/checkout/list.json?token=1c659e3ee5ba6ad93b8b5eadb9921ae4b0e76e76")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /v1/markets/checkout/list.json?marketId=1"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /checkout/list.json"',title:'"Response','/checkout/list.json"':!0},'{\n  "code": 200,\n  "href": "https://api.bsale.io/v1/checkout.json",\n  "count": 40,\n  "limit": 3,\n  "offset": 0,\n  "data": [\n    {\n      "id": 2,\n      "token": "c25056283b55705e9df35099c2c371e34576ec44",\n      "clientName": "ESTEBAN",\n      "clientLastName": "BAHAMONDE",\n      "clientEmail": "ebahamonde@yopmail.com",\n      "clientPhone": "09",\n      "dynamicAttributes": [],\n      "cartId": 2,\n      "cartDetails": [\n        "https://api.bsale.io/v1/cart/2/detail.json"\n      ],\n      "ptId": 2,\n      "createAt": 1574708468,\n      "shippingCost": 0,\n      "isMafs": 0,\n      "discountCost": 0,\n      "active": 1,\n      "shippingComment": "NOTA ADICIONAL",\n      "totalCart": 52990,\n      "pickStoreId": 1,\n      "pickName": "ESTEBAN BAHAMONDE",\n      "pickCode": "1-9",\n      "id_venta_documento_tributario": 0,\n      "documentNumber": 0,\n      "storeId": 1,\n      "marketId": 1,\n      "isService": 0,\n      "withdrawStore": 1,\n      "payProcess": "success",\n      "total": 52990,\n      "clientId": 24,\n      "url": "https://api.bsale.io/v1/checkout/2.json",\n      "orderStatus": 0\n    },\n    {\n      "id": 3,\n      "token": "daf2b384e405d83b5b7a5a3d3b77be37cd676e42",\n      "clientName": "jhon",\n      "clientLastName": "Calvalerri",\n      "clientEmail": "jc@yopmail.com",\n      "clientPhone": "09",\n      "dynamicAttributes": [],\n      "cartId": 3,\n      "cartDetails": [\n        "https://api.bsale.io/v1/cart/3/detail.json"\n      ],\n      "ptId": 2,\n      "createAt": 1574709073,\n      "shippingCost": 0,\n      "isMafs": 0,\n      "discountCost": 0,\n      "active": 1,\n      "shippingComment": "hh",\n      "totalCart": 52990,\n      "pickStoreId": 1,\n      "pickName": "E A",\n      "pickCode": "1-9",\n      "id_venta_documento_tributario": 1,\n      "documentNumber": 1,\n      "documentToken": "26fccb8145ca",\n      "storeId": 1,\n      "marketId": 1,\n      "isService": 0,\n      "withdrawStore": 1,\n      "payProcess": "for_validate",\n      "total": 52990,\n      "clientId": 24,\n      "url": "https://api.bsale.io/v1/checkout/3.json",\n      "orderStatus": 0\n    },\n    {\n      "id": 4,\n      "token": "ec84df556ca017f82053d0eac9215aba21419068",\n      "clientName": "ashe",\n      "clientLastName": "alvarado",\n      "clientEmail": "hector@yopmail.com",\n      "clientPhone": "0991",\n      "clientCountry": "Chile",\n      "clientState": "SUR",\n      "clientCity": "",\n      "dynamicAttributes": [],\n      "clientStreet": "001",\n      "clientCityZone": "Punta Arenas",\n      "clientPostcode": "5220000",\n      "clientBuildingNumber": "002",\n      "cartId": 4,\n      "cartDetails": [\n        "https://api.bsale.io/v1/cart/4/detail.json"\n      ],\n      "spcId": 1,\n      "ptId": 2,\n      "createAt": 1574709331,\n      "shippingCost": 0,\n      "isMafs": 0,\n      "discountCost": 0,\n      "active": 1,\n      "shippingComment": "Llamar antes de llegar",\n      "totalCart": 52990,\n      "pickStoreId": 0,\n      "id_venta_documento_tributario": 2,\n      "documentNumber": 2,\n      "documentToken": "2edbee52a5bb",\n      "storeId": 1,\n      "marketId": 1,\n      "isService": 0,\n      "withdrawStore": 0,\n      "payProcess": "success",\n      "stName": "INICIAL",\n      "total": 52990,\n      "clientId": 24,\n      "url": "https://api.bsale.io/v1/checkout/4.json",\n      "orderStatus": 0\n    }\n  ],\n  "next": "https://api.bsale.io/v1/checkout.json?limit=3&offset=3"\n}\n')),(0,r.kt)("h3",{id:"get-un-checkout"},"GET un checkout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"GET ",(0,r.kt)("inlineCode",{parentName:"li"},"/v2/token/checkout/:token.json ")," retornar\xe1 un checkout.")),(0,r.kt)("h4",{id:"par\xe1metros-1"},"Par\xe1metros"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"expand"),", permite expandir instancias y colecciones para traer relaciones en una sola petici\xf3n.")),(0,r.kt)("h4",{id:"ejemplos-1"},"Ejemplos"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /v2/token/checkout/628699ed3b62ddc5cc8fa71204b39384e9281556.json"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Response /v2/token/checkout/628699ed3b62ddc5cc8fe71204b39384a9281556.json"',title:'"Response','/v2/token/checkout/628699ed3b62ddc5cc8fe71204b39384a9281556.json"':!0},'{\n    "code": 200,\n    "data": {\n        "id": 43,\n        "token": "628699ed3b62ddc5cc8fa71204b39384a9281556",\n        "clientName": "Armando",\n        "clientLastName": "Castillos",\n        "clientEmail": "pruebas@imaginex-bsale.cl",\n        "clientPhone": "+90000001",\n        "id_tipo_documento_tributario": 1,\n        "clientCountry": "Chile",\n        "clientState": "Regi\xf3n Metropolitana",\n        "extrasUserData": {\n            "user_rut": "12345678-9",\n            "razon_social": "Castillos SA",\n            "giro_cliente": "Construcci\xf3n",\n            "direccion": "Las nubes #8000",\n            "ciudad": "San Pedro",\n            "comuna": "San Pedro"\n        },\n        "clientStreet": "las condes",\n        "clientCityZone": "Las Condes",\n        "clientPostcode": "5220000",\n        "clientBuildingNumber": "123",\n        "cartId": 43,\n        "cartDetails": [\n            "https://api.bsale.io/v1/cart/43/detail.json"\n        ],\n        "spcId": 2,\n        "ptId": 2,\n        "payUrl": "https://bcash.bsalemarket.com/bank/v1",\n        "createAt": 1586794547,\n        "shippingCost": 0,\n        "isMafs": 0,\n        "discountCost": 0,\n        "active": 1,\n        "shippingComment": "Tocar el timbre",\n        "totalCart": 29990,\n        "pickStoreId": 0,\n        "id_venta_documento_tributario": 9,\n        "documentNumber": 4,\n        "documentToken": "58fa1b313e09",\n        "storeId": 1,\n        "marketId": 1,\n        "isService": 0,\n        "withdrawStore": 0,\n        "payProcess": "for_validate",\n        "ptName": "Transferencia Bancaria",\n        "stName": "Envios ultra r\xe1pidos (flash)",\n        "total": 29990,\n        "url": "https://api.bsale.io/v1/checkout/43.json",\n        "orderStatus": 0,\n        "currency": {\n            "decimals": 0,\n            "symbol": null,\n            "decimalSeparator": null\n        }\n    }\n}\n')),(0,r.kt)("h3",{id:"post-un-checkout"},"POST un checkout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"POST ",(0,r.kt)("inlineCode",{parentName:"li"},"/v1/checkout.json")," ")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"La creaci\xf3n de un checkout referencia a un documento pre-venta (pedido web, pedido mercado libre, orden.. etc). Dado que se debe referenciar en el checkout su ",(0,r.kt)("inlineCode",{parentName:"p"},"id_venta_documento_tributario"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"documentNumber")," y ",(0,r.kt)("inlineCode",{parentName:"p"},"documentToken"),".")),(0,r.kt)("p",null,"Para crear una variante, se debe enviar un JSON con la siguiente estructura:"),(0,r.kt)("h4",{id:"ejemplo-json-2"},"Ejemplo JSON"),(0,r.kt)("h5",{id:"env\xedo-2"},"Env\xedo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "clientName": "Benito",\n    "clientLastName": "Gonzalez",\n    "clientEmail": " ",\n    "clientPhone": "",\n    "id_venta_documento_tributario": 2,\n    "documentNumber": 1,\n    "documentToken": "909a3f08ab89",\n    "clientCountry": "Chile",\n    "clientState": "Regi\xf3n Metropolitana",\n    "ptId": 2,\n    "payProcess": "for_validate",\n    "extrasUserData": {\n        "user_rut": "11111111-9",\n        "razon_social": "Rzon Social",\n        "giro_cliente": "Gro Clien",\n        "direccion": "Direccn",\n        "ciudad": "Ciudd",\n        "comuna": "Cmna"\n    },\n    "clientStreet": "las condes",\n    "clientCityZone": "Las Condes",\n    "clientPostcode": "ss",\n    "clientBuildingNumber": "123",\n    "cartDetails": [\n        {\n            "quantity": 1,\n            "unitValue": 29990,\n            "name": "Ejemplo Producto 1 Variante 2 Lt",\n            "image": "https://test.bsalemarket.com/assets/bsale/v1.2/images/no-image.png",\n            "idVarianteProducto": 2,\n            "productWebId": 1\n        }\n    ]\n}\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"token"),", Si no viene lo crea."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"id_venta_documento_tributario"),", Si viene valida que exista."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"cartId"),", Si no viene lo crea, Si viene valida que exista ."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"cartDetails"),", Utiliza las reglas del carro."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"spcId"),", Si viene valida que exista ."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ptId"),", Id forma de pago tienda en l\xednea. Si viene valida que exista.  Id's:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"1"),", webpay"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"2"),", transferencia bancaria"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"6"),", transferencia electr\xf3nica"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"createAt"),", Fecha de creaci\xf3n del post, Bsale lo genera."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"payProcess"),", Estado del pago asociado al checkout",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"success"),", pago realizado"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"for_validate"),", pago pendiente de validaci\xf3n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"totalCart"),", Si no viene se calcula ."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"pickStoreId"),", Id tienda para retiro ."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"shippingCost"),", valor del despacho."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"pickName"),", Nombre del que retira el pedido"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"pickCode"),", Rut del que retira el pedido "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"shippingComment"),", Comentario del despacho."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"id_venta_documento_tributario"),", Si viene valida que exista. (Referencia id del pedido)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"id_tipo_documento_tributario"),", Id de tipo documento que desea generar. "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"documentNumber"),", Si viene valida que exista. (Referencia n\xfamero del pedido)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"documentToken"),", Si viene valida que exista. (Referencia token del pedido)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"storeId"),", Id tienda ecommerce (Debe ser igual a marketId)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"marketId"),", Id de tienda en l\xednea. Si viene valida que exista."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isService"),", Si no viene se calcula ."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"withdrawStore"),", Retiro en tienda (1) o despacho a domicilio (0)")),(0,r.kt)("h5",{id:"respuesta-2"},"Respuesta"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "code": "200",\n  "data": {\n    "id": 141,\n    "token": "5115f635235b69f957cef79a049864fb4fb167ef",\n    "clientName": "Jos\xe9",\n    "clientLastName": "Del R\xedo",\n    "clientEmail": "j@delrio.com",\n    "clientPhone": "+569000001",\n    "clientCountry": "Chile",\n    "clientState": "Regi\xf3n Metropolitana",\n    "extrasUserData": {\n      "user_rut": "11111111-9",\n      "razon_social": "Rzon Social",\n      "giro_cliente": "Gro Clien",\n      "direccion": "Direccn",\n      "ciudad": "Ciudd",\n      "comuna": "Cmna"\n    },\n    "clientStreet": "las condes",\n    "clientCityZone": "Las Condes",\n    "clientPostcode": "ss",\n    "clientBuildingNumber": "123",\n    "cartId": 226,\n    "cartDetails": [\n      {\n        "id": 231,\n        "quantity": 1,\n        "unitValue": 29990,\n        "netUnitValue": 25201.6806722689,\n        "discount": 0,\n        "total": 29990,\n        "image": "https://d09.cloudfront.net/1680/product/home223.jpg",\n        "idVarianteProducto": 252,\n        "sku": "1586793957901",\n        "cartId": 226,\n        "taxList": [\n          1\n        ],\n        "shipping": {\n          "id": 102,\n          "weight": 1,\n          "width": 1,\n          "deph": 1,\n          "length": 1,\n          "match": 1\n        },\n        "value": 29990,\n        "cd_q": 1,\n        "cd_unit_value": 29990,\n        "cd_discount": 0,\n        "cd_sub_total": 29990,\n        "cd_id": 231,\n        "cd_id_discount": 0,\n        "cd_image": "https://d09.cloudfront.net/1680/product/home223.jpg",\n        "id_variante_producto": 252,\n        "codigo_variante_producto": "1586793957901",\n        "href": "https://api.bsale.io/v1/cart/226/detail/231.json"\n      }\n    ],\n    "ptId": 1,\n    "createAt": 1635431808,\n    "shippingCost": 0,\n    "isMafs": 0,\n    "discountCost": 0,\n    "active": 1,\n    "totalCart": 29990,\n    "pickStoreId": 0,\n    "id_venta_documento_tributario": 176,\n    "documentNumber": 176,\n    "documentToken": "8f4f09ed382c",\n    "isService": 0,\n    "withdrawStore": 0,\n    "payProcess": "for_validate",\n    "total": 29990,\n    "url": "https://api.bsale.io/v1/checkout/141.json"\n  }\n}\n')),(0,r.kt)("h3",{id:"put-un-checkout"},"PUT un checkout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"PUT ",(0,r.kt)("inlineCode",{parentName:"li"},"/v1/markets/checkout/:id.json")," ")),(0,r.kt)("p",null,"Se debe enviar un Json con la siguiente estructura: "),(0,r.kt)("h4",{id:"ejemplo-json-3"},"Ejemplo JSON"),(0,r.kt)("h5",{id:"env\xedo-3"},"Env\xedo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "clientName": "Esteban",\n    "clientLastName": "Pruebas",\n    "clientEmail": "ebahamonde@imaginex.cl",\n    "clientPhone": "+90000001",\n    "id_tipo_documento_tributario": 1,\n    "clientCountry": "Chile",\n    "clientState": "Regi\xf3n Metropolitana",\n    "id_venta_documento_tributario": 0,\n    "documentNumber": 154,\n    "documentToken": "5ea75c552f50",\n}\n')),(0,r.kt)("h5",{id:"respuesta-3"},"Respuesta"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "code": "200",\n  "data": {\n    "id": 141,\n    "token": "5115f635235b69f957cef79a049864fb4fb167ef",\n    "clientName": "Jos\xe9",\n    "clientLastName": "Del R\xedo",\n    "clientEmail": "j@delrio.com",\n    "clientPhone": "+569000001",\n    "clientCountry": "Chile",\n    "clientState": "Regi\xf3n Metropolitana",\n    "extrasUserData": {\n      "user_rut": "11111111-9",\n      "razon_social": "Rzon Social",\n      "giro_cliente": "Gro Clien",\n      "direccion": "Direccn",\n      "ciudad": "Ciudd",\n      "comuna": "Cmna"\n    },\n    "clientStreet": "las condes",\n    "clientCityZone": "Las Condes",\n    "clientPostcode": "ss",\n    "clientBuildingNumber": "123",\n    "cartId": 226,\n    "cartDetails": [\n      {\n        "id": 231,\n        "quantity": 1,\n        "unitValue": 29990,\n        "netUnitValue": 25201.6806722689,\n        "discount": 0,\n        "total": 29990,\n        "image": "https://d09.cloudfront.net/1680/product/home223.jpg",\n        "idVarianteProducto": 252,\n        "sku": "1586793957901",\n        "cartId": 226,\n        "taxList": [\n          1\n        ],\n        "shipping": {\n          "id": 102,\n          "weight": 1,\n          "width": 1,\n          "deph": 1,\n          "length": 1,\n          "match": 1\n        },\n        "value": 29990,\n        "cd_q": 1,\n        "cd_unit_value": 29990,\n        "cd_discount": 0,\n        "cd_sub_total": 29990,\n        "cd_id": 231,\n        "cd_id_discount": 0,\n        "cd_image": "https://d09.cloudfront.net/1680/product/home223.jpg",\n        "id_variante_producto": 252,\n        "codigo_variante_producto": "1586793957901",\n        "href": "https://api.bsale.io/v1/cart/226/detail/231.json"\n      }\n    ],\n    "ptId": 1,\n    "createAt": 1635431808,\n    "shippingCost": 0,\n    "isMafs": 0,\n    "discountCost": 0,\n    "active": 1,\n    "totalCart": 29990,\n    "pickStoreId": 0,\n    "id_venta_documento_tributario": 176,\n    "documentNumber": 176,\n    "documentToken": "8f4f09ed382c",\n    "isService": 0,\n    "withdrawStore": 0,\n    "payProcess": "for_validate",\n    "total": 29990,\n    "url": "https://api.bsale.io/v1/checkout/141.json"\n  }\n}\n')),(0,r.kt)("h3",{id:"delete-un-checkout"},"DELETE un checkout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"DELETE ",(0,r.kt)("inlineCode",{parentName:"li"},"/v1/variants/2110.json"),"\nCambia el estado del checkout")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "code": "200",\n  "data": {\n    "id": 5358,\n    "token": "c401b6d0b6e4a10884fe0909b83f249e9a03dffa",\n    "clientName": "adsa",\n    "clientLastName": "asdasd",\n    "clientEmail": "benjamind@imaginex.cl",\n    "clientPhone": "123123",\n    "id_tipo_documento_tributario": 1,\n    "clientCountry": "Chile",\n    "clientState": "Regi\xf3n Metropolitana",\n    "extrasUserData": {\n      "user_rut": "19",\n      "razon_social": "asdas",\n      "giro_cliente": "asd",\n      "direccion": "asd",\n      "ciudad": "asd",\n      "comuna": "asd"\n    },\n    "clientStreet": "las condes",\n    "clientCityZone": "Las Condes",\n    "clientPostcode": "ss",\n    "clientBuildingNumber": "123",\n    "cartId": 6804,\n    "cartDetails": [\n      "https://bsale-ecommerce-benjamin007.c9users.io:8081/v1/cart/6804/detail.json"\n    ],\n    "spcId": 342,\n    "ptId": 1,\n    "createAt": 1506425440,\n    "shippingCost": 0,\n    "isMafs": 1,\n    "active": 0,\n    "shippingComment": "",\n    "totalCart": 147949,\n    "pickStoreId": 0,\n    "pickName": "",\n    "pickCode": "",\n    "id_venta_documento_tributario": 0,\n    "documentNumber": 0,\n    "storeId": 2,\n    "marketId": 1,\n    "isService": 0,\n    "withdrawStore": 0,\n    "payProcess": "pending",\n    "integrationDetail": "https://dojiw2m9tvv09.cloudfront.net/1680/product/home-productos-059963.jpg",\n    "url": "https://bsale-ecommerce-benjamin007.c9users.io:8081/v1/checkout/5358.json"\n  }\n}\n')))}p.isMDXComponent=!0}}]);